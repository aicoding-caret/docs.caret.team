---
title: "MCP Facile"
description: "Apprenez à utiliser le MCP Marketplace pour découvrir, installer et configurer des serveurs MCP qui améliorent les capacités de Careti avec des outils et des ressources supplémentaires."
---

## Qu'est-ce qu'un serveur MCP ?

Les serveurs MCP sont des extensions spécialisées qui améliorent les capacités de Careti. Ils permettent à Careti d'effectuer des tâches supplémentaires telles que la récupération de pages Web, le traitement d'images, l'accès aux APIs, et bien plus encore.

## Visite guidée du MCP Marketplace

Le MCP Marketplace offre une expérience d'installation en un clic pour des centaines de serveurs MCP dans diverses catégories.

### 1. Accéder au Marketplace

-   Dans Careti, cliquez sur le bouton "Extensions" (icône carrée) dans la barre d'outils supérieure.
-   Le MCP Marketplace s'ouvrira, affichant les serveurs disponibles par catégorie.

### 2. Parcourir et sélectionner un serveur

-   Parcourez les serveurs par catégorie (Recherche, Systèmes de fichiers, Automatisation du navigateur, Données de recherche, etc.)
-   Cliquez sur un serveur pour voir les détails de ses capacités et de ses exigences.

### 3. Installer et configurer

-   Cliquez sur le bouton d'installation du serveur choisi.
-   Si le serveur nécessite une API key (la plupart en ont besoin), Careti vous guidera à travers :
    -   Où obtenir l'API key
    -   Comment l'entrer en toute sécurité
-   Le serveur sera automatiquement ajouté à vos paramètres MCP.

### 4. Vérifier l'installation

-   Careti affichera une confirmation lorsque l'installation sera terminée.
-   Vérifiez l'état du serveur dans l'interface utilisateur des paramètres MCP de Careti.

### 5. Utilisation de votre nouveau serveur

-   Après une installation réussie, Careti intégrera automatiquement les capacités du serveur.
-   Vous verrez de nouveaux outils et ressources disponibles dans l'invite système de Careti.
-   Demandez simplement à Careti d'utiliser les capacités de votre nouveau serveur.
-   Exemple : "Rechercher sur le web les dernières mises à jour de React à l'aide de Perplexity"

**Utilisateurs professionnels :** Si vous utilisez Careti dans un environnement professionnel, assurez-vous d'avoir l'autorisation d'installer des serveurs MCP tiers conformément aux politiques de sécurité de votre organisation.

## Que se passe-t-il en coulisses ?

Lorsque vous installez un serveur MCP, plusieurs choses se produisent automatiquement :

### 1. Processus d'installation

-   Le code du serveur est cloné/installé dans `/Users/<username>/Documents/Careti/MCP/`
-   Les dépendances sont installées
-   Le serveur est construit (compilation TypeScript/JavaScript ou installation du package Python)

### 2. Configuration

-   Le fichier de paramètres MCP est mis à jour avec la configuration de votre serveur.
-   Ce fichier se trouve à l'adresse suivante : `/Users/<username>/Library/Application Support/Code/User/globalStorage/saoudrizwan.claude-dev/settings/cline_mcp_settings.json`
-   Les variables d'environnement (comme les API keys) sont stockées en toute sécurité
-   Le chemin du serveur est enregistré

### 3. Lancement du serveur

-   Careti détecte le changement de configuration.
-   Careti lance votre serveur en tant que processus distinct.
-   La communication est établie via stdio ou HTTP.

### 4. Intégration avec Careti

-   Les capacités de votre serveur sont ajoutées à l'invite système de Careti.
-   Les outils deviennent disponibles via les commandes `use_mcp_tool`.
-   Les ressources deviennent disponibles via les commandes `access_mcp_resource`.
-   Careti peut maintenant utiliser ces capacités lorsque l'utilisateur le demande.

## Dépannage

### Configuration système requise

Assurez-vous que votre système répond à ces exigences :

-   **Node.js 18.x ou plus récent**
    -   Vérifiez en exécutant : `node --version`
    -   Installez à partir de : https://nodejs.org/
    -   Requis pour les implémentations JavaScript/TypeScript
-   **Python 3.10 ou plus récent**
    -   Vérifiez en exécutant : `python --version`
    -   Installez à partir de : https://python.org/
    -   Remarque : Certaines implémentations spécialisées peuvent nécessiter Python 3.11+
-   **UV Package Manager**
    -   Gestionnaire de packages Python moderne pour l'isolation des dépendances
    -   Installez en utilisant :
        ```bash
        curl -LsSf https://astral.sh/uv/install.sh | sh
        ```
        Ou : `pip install uv`
    -   Vérifiez avec : `uv --version`

Si l'une de ces commandes échoue ou affiche des versions plus anciennes, veuillez installer/mettre à jour avant de continuer !

### Problèmes d'installation courants

-   Assurez-vous que votre connexion Internet est stable.
-   Vérifiez que vous avez les autorisations nécessaires pour installer de nouveaux logiciels.
-   Vérifiez que l'API key a été saisie correctement (si nécessaire).
-   Vérifiez l'état du serveur dans l'interface utilisateur des paramètres MCP pour tout message d'erreur.

### Comment supprimer un serveur MCP

Pour supprimer complètement un serveur MCP défectueux :

1. Ouvrez le fichier de paramètres MCP : `/Users/<username>/Library/Application Support/Code/User/globalStorage/saoudrizwan.claude-dev/settings/cline_mcp_settings.json`
2. Supprimez l'entrée entière de votre serveur de l'objet `mcpServers`
3. Enregistrez le fichier
4. Redémarrez Careti

### Je reçois toujours une erreur

Si vous recevez une erreur lors de l'utilisation d'un serveur MCP, vous pouvez essayer les solutions suivantes :

-   Vérifiez le fichier de paramètres MCP pour les erreurs.
-   Utilisez un modèle Claude Sonnet pour l'installation
-   Vérifiez que les chemins d'accès aux fichiers de votre serveur sont corrects.
-   Assurez-vous que toutes les variables d'environnement requises sont définies.
-   Vérifiez si un autre processus utilise le même port (pour les serveurs basés sur HTTP).
-   Essayez de supprimer et de réinstaller le serveur (supprimez-le à la fois du fichier `cline_mcp_settings.json` et du répertoire `/Users/<username>/Documents/Careti/MCP/`)
-   Utilisez un terminal et exécutez la commande directement avec ses arguments. Cela vous permettra de voir les mêmes erreurs que celles que Careti voit.

## Règles du serveur MCP

Careti est déjà au courant de vos serveurs MCP actifs et de leur utilité, mais lorsque vous avez beaucoup de serveurs MCP activés, il peut être utile de définir quand utiliser chaque serveur.

Utilisez un fichier `.agents/context` ou des instructions personnalisées pour prendre en charge l'activation intelligente du serveur MCP via des déclencheurs basés sur des mots clés, ce qui rend la sélection d'outils de Careti plus intuitive et contextuelle.

### Comment fonctionnent les règles MCP

Les règles MCP regroupent vos serveurs MCP connectés en catégories fonctionnelles et définissent des mots clés de déclenchement qui les activent automatiquement lorsqu'ils sont détectés dans vos conversations avec Careti.

```json
{
	"mcpRules": {
		"webInteraction": {
			"servers": ["firecrawl-mcp-server", "fetch-mcp"],
			"triggers": ["web", "scrape", "browse", "website"],
			"description": "Tools for web browsing and scraping"
		}
	}
}
```

### Structure de la configuration

1. **Catégories :** Regroupez les serveurs connexes (par exemple, "webInteraction", "mediaAndDesign").
2. **Serveurs :** Répertoriez les noms de serveur dans chaque catégorie.
3. **Déclencheurs :** Mots clés qui activent ces serveurs.
4. **Description :** Explication de la catégorie lisible par l'homme.

### Avantages des règles MCP

-   **Sélection d'outils contextuels :** Careti sélectionne les outils appropriés en fonction du contexte de la conversation.
-   **Friction réduite :** Pas besoin de spécifier manuellement quel outil utiliser.
-   **Capacités organisées :** Regroupez logiquement les outils et les serveurs associés.
-   **Priorisation :** Gérez les cas ambigus avec un ordre de priorité explicite.

### Exemple d'utilisation

Lorsque vous écrivez "Pouvez-vous scraper ce site Web ?", Careti détecte "scrape" et "website" comme déclencheurs, sélectionnant automatiquement les serveurs MCP liés au Web.

Pour les tâches financières telles que "Quel est le cours de l'action Apple ?", les mots clés tels que "stock" et "price" déclenchent des serveurs liés à la finance.

### Modèle de démarrage rapide

```json
{
	"mcpRules": {
		"category1": {
			"servers": ["server-name-1", "server-name-2"],
			"triggers": ["keyword1", "keyword2", "phrase1", "phrase2"],
			"description": "Description of what these tools do"
		},
		"category2": {
			"servers": ["server-name-3"],
			"triggers": ["keyword3", "keyword4", "phrase3"],
			"description": "Description of what these tools do"
		},
		"category3": {
			"servers": ["server-name-4", "server-name-5"],
			"triggers": ["keyword5", "keyword6", "phrase4"],
			"description": "Description of what these tools do"
		}
	},
	"defaultBehavior": {
		"priorityOrder": ["category1", "category2", "category3"],
		"fallbackBehavior": "Ask user which tool would be most appropriate"
	}
}
```

Ajoutez ceci à votre fichier `.agents/context` ou à vos instructions personnalisées pour rendre la sélection de serveur MCP de Careti plus intuitive et contextuelle.
