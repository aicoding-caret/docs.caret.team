---
title: "Контрольные точки"
sidebarTitle: "Контрольные точки"
---

Контрольные точки автоматически сохраняют снимки вашей рабочей области после каждого шага в задаче. Эта функция позволяет вам отслеживать изменения, откатываться при необходимости и уверенно экспериментировать с вашим кодом.

## Как работают контрольные точки

Caret создаёт контрольную точку после каждого использования инструмента (редактирование файлов, команды и т.д.). Эти контрольные точки:

-   Работают вместе с вашим рабочим процессом Git без помех
-   Поддерживают контекст между восстановлениями
-   Используют теневой репозиторий Git для отслеживания изменений

Например, если вы работаете над функцией и Caret делает несколько изменений файла, каждое изменение создаёт контрольную точку. Это означает, что вы можете просмотреть каждое изменение и, если необходимо, откатиться к любой точке без влияния на ваш основной репозиторий Git.

## Просмотр изменений и восстановление

После каждого использования инструмента вы можете:

1. Нажать кнопку "Compare", чтобы увидеть изменённые файлы
2. Нажать кнопку "Restore" для открытия параметров восстановления

<Frame>
	<img
		src="https://storage.googleapis.com/cline_public_images/docs/assets/image%20(13).png"
		alt="Сравнение контрольной точки и параметры восстановления"
	/>
</Frame>

## Параметры восстановления

Для восстановления к предыдущей точке:

1. Нажмите кнопку "Restore" рядом с любым шагом
2. Выберите один из трёх параметров:
    - **Restore Task and Workspace**: Сбросьте как кодовую базу, так и задачу к этой точке
    - **Restore Task Only**: Сохраните изменения кодовой базы, но верните контекст задачи
    - **Restore Workspace Only**: Сбросьте кодовую базу, сохраняя контекст задачи

Пример: Если Caret делает изменения, которые вам не нравятся при стилизации компонента, вы можете использовать "Restore Workspace Only" для отката изменений кода, сохраняя контекст разговора, позволяя вам попробовать другой подход.

<Frame caption="Откат как кодовой базы, так и задачи к перед тем, как были сделаны какие-либо изменения, для свежего старта">
	<img src="https://storage.googleapis.com/cline_public_images/docs/assets/checkpointsDemo.gif" alt="Демонстрация восстановления контрольной точки" />
</Frame>

## Варианты использования

Контрольные точки позволяют вам быть более экспериментальным с Caret. В то время как кодирование человеком часто методично и итеративно, AI может быстро вносить существенные изменения. Контрольные точки помогают вам отслеживать эти изменения и откатываться при необходимости.

### Использование режима Auto-Approve

-   Предоставляет сеть безопасности для быстрых итераций
-   Облегчает отмену неожиданных результатов

### Тестирование различных подходов

-   Попробуйте несколько решений с уверенностью
-   Сравнивайте различные реализации
-   Быстро откатитесь к рабочим состояниям
-   Идеально подходит для изучения различных паттернов дизайна или архитектурных подходов

## Лучшие практики

1. Используйте контрольные точки как сеть безопасности при экспериментировании
2. С большей уверенностью используйте режим auto-approve, зная, что вы всегда можете откатиться
3. Выборочно восстанавливайте в зависимости от потребностей:
    - Используйте "Restore Task and Workspace" для свежего старта
    - Используйте "Restore Task Only" для попытки различных подсказок, но сохраните изменения файла
    - Используйте "Restore Workspace Only" для попытки различных реализаций, сохраняя контекст разговора

## Связь с редактированием сообщений

[Функция редактирования сообщений](/ru/features/editing-messages) использует контрольные точки под капотом, когда вы выбираете опцию "Restore All". Это позволяет вам не только отредактировать и переотправить ваше сообщение, но и восстановить вашу рабочую область до состояния, в котором она была в этот момент разговора.

## Удаление контрольных точек

Вы можете удалить все контрольные точки, используя кнопку **"Delete All History"** в меню истории задач. Обратите внимание, что это также удалит все задачи. Контрольные точки хранятся в globalStorage VS Code.
