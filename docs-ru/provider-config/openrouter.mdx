---
title: "OpenRouter"
description: "Узнайте, как использовать OpenRouter с Careti для доступа к широкому спектру языковых моделей через единый API."
---

<Note>
Это справочный документ для Careti. Он соответствует версии Careti v3.38.1. Специфические политики Careti (разрешенные/заблокированные модели, региональные ограничения, аутентификация/маршрутизация) помечаются тегом `<Note>` в тексте.
</Note>

<Note>
Улучшение настройки Provider: Согласно `caret-docs/features/f09-enhanced-provider-setup.md`, в Careti может быть улучшена проверка настроек провайдера и UX. Обратите внимание, что список разрешенных/заблокированных моделей может меняться в зависимости от политик аккаунта/организации или настроек Careti Router.
</Note>

OpenRouter — это AI-платформа, предоставляющая доступ к широкому спектру языковых моделей от различных провайдеров через единый API. Это упрощает настройку и позволяет легко экспериментировать с различными моделями.

**Веб-сайт:** [https://openrouter.ai/](https://openrouter.ai/)

### Получение API Key

1.  **Регистрация/Вход:** Перейдите на [сайт OpenRouter](https://openrouter.ai/). Войдите, используя свой аккаунт Google или GitHub.
2.  **Получение API Key:** Перейдите на [страницу ключей](https://openrouter.ai/keys). Вы увидите список API Key. Если ключей нет, создайте новый.
3.  **Копирование ключа:** Скопируйте API Key.

### Поддерживаемые модели

OpenRouter поддерживает огромное и постоянно растущее количество моделей. Careti автоматически получает список доступных моделей. Актуальный список можно найти на [странице моделей OpenRouter](https://openrouter.ai/models).

### Конфигурация в Careti

1.  **Откройте настройки Careti:** Нажмите на иконку шестеренки (⚙️) на панели Careti.
2.  **Выберите провайдера:** Выберите «OpenRouter» в выпадающем списке «API Provider».
3.  **Введите API Key:** Вставьте ваш OpenRouter API Key в поле «OpenRouter API Key».
4.  **Выберите модель:** Выберите нужную модель в выпадающем списке «Model».
5.  **(Опционально) Custom Base URL:** Если вам нужно использовать пользовательский базовый URL для OpenRouter API, отметьте «Use custom base URL» и введите URL. Большинству пользователей следует оставить это поле пустым.

### Поддерживаемые трансформации

OpenRouter предоставляет [опциональную трансформацию сообщений «middle-out»](https://openrouter.ai/docs/features/message-transforms) для работы с промптами, превышающими максимальный размер контекста модели. Вы можете включить ее, установив флажок «Compress prompts and message chains to the context size».

### Советы и примечания

-   **Выбор модели:** OpenRouter предлагает широкий выбор моделей. Экспериментируйте, чтобы найти ту, которая лучше всего подходит для ваших задач.
-   **Цены:** OpenRouter взимает плату на основе стоимости использования базовой модели. Подробности см. на [странице моделей OpenRouter](https://openrouter.ai/models).
-   **Prompt Caching:**
    -   OpenRouter передает запросы на кэширование базовым моделям, которые его поддерживают. Проверьте [страницу моделей OpenRouter](https://openrouter.ai/models), чтобы узнать, какие модели поддерживают кэширование.
    -   Для большинства моделей кэширование должно активироваться автоматически, если оно поддерживается самой моделью (аналогично тому, как работает Requesty).
    -   **Исключение для моделей Gemini через OpenRouter:** Из-за возможных задержек ответа, иногда наблюдаемых при использовании механизма кэширования Google через OpenRouter, требуется ручная активация *специально для моделей Gemini*.
    -   При использовании **модели Gemini** через OpenRouter вы **должны вручную установить флажок** «Enable Prompt Caching» в настройках провайдера, чтобы активировать кэширование для этой модели. Этот чекбокс служит временным решением. Для моделей на OpenRouter, отличных от Gemini, этот флажок не обязателен для кэширования.