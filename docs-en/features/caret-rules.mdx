Caret Rules allow you to provide Caret with system-level guidance. Think of them as a persistent way to include context and preferences for your projects or globally for every conversation.

Caret Rules allow you to provide Caret with system-level guidance. Think of them as a persistent way to include context and preferences for your projects or globally for every conversation.

<Note>
캐럿(Caret) 기준 문서입니다. Caret v3.38.1 머지본을 따르며, 캐럿 전용 정책(AGENTS.md 사용 시 차이, 규칙 저장 위치/스코프, 인증/라우팅)이 있을 경우 본문에서 `<Note>`로 표시합니다.
</Note>

<Note>
캐럿 Agent Standardization: `caret-docs/features/f06-agent-standardization.md` 기준으로 `.agents/context` SoT + `AGENTS.md` 계층 + `/init` 스캐폴드로 표준화합니다. 레거시 규칙 경로는 읽지 않습니다.
</Note>

## Creating a Rule

You can create a rule by clicking the `+` button in the Rules tab. This will open a new file in your IDE which you can use to write your rule.

<Frame>
	<img src="https://storage.googleapis.com/cline_public_images/docs/assets/caret-rules.png" alt="Create a Rule" />
</Frame>

Once you save the file:

-   Your rule will be stored in the `.agents/context/` directory in your project (if it's a Workspace Rule)
-   Or in the Global Rules directory (if it's a Global Rule):

### Global Rules Directory Location

The location of your Global Rules directory depends on your operating system:

| Operating System | Default Location | Notes |
|------------------|------------------|-------|
| **Windows** | `Documents\Caret\Rules` | Uses system Documents folder |
| **macOS** | `~/Documents/Caret/Rules` | Uses user Documents folder |
| **Linux/WSL** | `~/Documents/Caret/Rules` | May fall back to `~/Caret/Rules` on some systems |

> **Note for Linux/WSL users**: If you don't find your global rules in `~/Documents/Caret/Rules`, check `~/Caret/Rules` as the location may vary depending on your system configuration and whether the Documents directory exists.

You can also have Caret create a rule for you by using the [`/newrule` slash command](/en/features/slash-commands/new-rule) in the chat.

```markdown Example Caret Rule Structure [expandable]
# Project Guidelines

## Documentation Requirements

-   Update relevant documentation in /docs when modifying features
-   Keep README.md in sync with new capabilities
-   Maintain changelog entries in CHANGELOG.md

## Architecture Decision Records

Create ADRs in /docs/adr for:

-   Major dependency changes
-   Architectural pattern changes
-   New integration patterns
-   Database schema changes
    Follow template in /docs/adr/template.md

## Code Style & Patterns

-   Generate API clients using OpenAPI Generator
-   Use TypeScript axios template
-   Place generated code in /src/generated
-   Prefer composition over inheritance
-   Use repository pattern for data access
-   Follow error handling pattern in /src/utils/errors.ts

## Testing Standards

-   Unit tests required for business logic
-   Integration tests for API endpoints
-   E2E tests for critical user flows
```

### Key Benefits

1. **Version Controlled**: The `.agents/context` file becomes part of your project's source code
2. **Team Consistency**: Ensures consistent behavior across all team members
3. **Project-Specific**: Rules and standards tailored to each project's needs
4. **Institutional Knowledge**: Maintains project standards and practices in code

Place the `.agents/context` file in your project's root directory:

```
your-project/
├── .agents/context
├── src/
├── docs/
└── ...
```

Caret's system prompt, on the other hand, is not user-editable ([here's where you can find it](https://github.com/caret/caret/blob/main/src/core/prompts/system.ts)). For a broader look at prompt engineering best practices, check out [this resource](https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/overview).

### AGENTS.md Standard Support

Caret also supports the [AGENTS.md](https://agents.md/) standard as a fallback 
(in addition to Caret Rules) by automatically detecting `AGENTS.md` files in 
your workspace root. This allows you to use the same rules file across different AI 
coding tools.

```
your-project/
├── AGENTS.md
├── src/
└── ...
```

### Tips for Writing Effective Caret Rules

-   Be Clear and Concise: Use simple language and avoid ambiguity.
-   Focus on Desired Outcomes: Describe the results you want, not the specific steps.
-   Test and Iterate: Experiment to find what works best for your workflow.

### .agents/context/ Folder System

```
your-project/
├── .agents/context/              # Folder containing active rules
│   ├── 01-coding.md          # Core coding standards
│   ├── 02-documentation.md   # Documentation requirements
│   └── current-sprint.md     # Rules specific to current work
├── src/
└── ...
```

Caret automatically processes **all Markdown files** inside the `.agents/context/` directory, combining them into a unified set of rules. The numeric prefixes (optional) help organize files in a logical sequence.

#### Inactive Rules Library (Optional)

For projects with multiple contexts or teams, keep inactive rules in a separate folder and copy them into `.agents/context/` only when needed. The library folder is not auto-loaded.

```
your-project/
├── .agents/context/              # Active rules - automatically applied
│   ├── 01-coding.md
│   └── client-a.md
│
├── rules-bank/               # Inactive rules library
│   ├── clients/              # Client-specific rule sets
│   │   ├── client-a.md
│   │   └── client-b.md
│   ├── frameworks/           # Framework-specific rules
│   │   ├── react.md
│   │   └── vue.md
│   └── project-types/        # Project type standards
│       ├── api-service.md
│       └── frontend-app.md
└── ...
```

#### Benefits of the Folder Approach

1. **Contextual Activation**: Copy only relevant rules from the bank to the active folder
2. **Easier Maintenance**: Update individual rule files without affecting others
3. **Team Flexibility**: Different team members can activate rules specific to their current task
4. **Reduced Noise**: Keep the active ruleset focused and relevant

#### Usage Examples

Switch between client projects:

```bash
# Switch to Client B project
rm .agents/context/client-a.md
cp rules-bank/clients/client-b.md .agents/context/
```

Adapt to different tech stacks:

```bash
# Frontend React project
cp rules-bank/frameworks/react.md .agents/context/
```

#### Implementation Tips

-   Keep individual rule files focused on specific concerns
-   Use descriptive filenames that clearly indicate the rule's purpose
-   Consider git-ignoring the active `.agents/context/` folder while tracking `rules-bank/`
-   Create team scripts to quickly activate common rule combinations

The folder system transforms your Caret rules from a static document into a dynamic knowledge system that adapts to your team's changing contexts and requirements.

### Managing Rules with the Toggleable Popover

To make managing both single `.agents/context` files and the folder system even easier, Caret v3.13 introduces a dedicated popover UI directly accessible from the chat interface.

Located conveniently under the chat input field, this popover allows you to:

-   **Instantly See Active Rules:** View which global rules (from your user settings) and workspace rules (`.agents/context` file or folder contents) are currently active.
-   **Quickly Toggle Rules:** Enable or disable specific rule files within your workspace `.agents/context/` folder with a single click. This is perfect for activating context-specific rules (like `react-rules.md` or `api-rules.md`) only when needed.
-   **Easily Add/Manage Rules:** Quickly create a workspace `.agents/context` file or folder if one doesn't exist, or add new rule files to an existing folder.

This UI significantly simplifies switching contexts and managing different sets of instructions without needing to manually edit files or configurations during a conversation.

<Frame>
	<img src="https://storage.googleapis.com/cline_public_images/docs/assets/image%20(1).png" alt="Caret Logo" />
</Frame>
