---
title: "캐러티 컨텍스트 시스템"
description: "Memory Bank를 대체하는 캐러티의 이중 디렉토리 아키텍처를 안내합니다."
---

# 캐러티 컨텍스트 시스템

캐러티는 Cline Memory Bank 방식 대신 **이중 디렉토리 아키텍처**를 사용합니다.
AI와 사람이 읽는 문서의 목적이 다르다는 점을 인정하고, 역할에 맞게 분리합니다.

## 빠른 시작

1. **`/init`으로 스캐폴드 생성**
   `AGENTS.md`, `.agents/`, `.users/` 기본 구조를 자동으로 준비합니다.

2. **작업 시작 시 필수 문서 확인**
   AI는 `AGENTS.md` → `.agents/context/agents-rules.json` 순으로 확인합니다.

3. **워크플로우는 온디맨드 로딩**
   필요한 워크플로우만 `.agents/workflows/`에서 불러옵니다.

## 이중 디렉토리 구조

```
project/
├── AGENTS.md                   # AI 진입점 (메타 규칙)
├── .agents/                    # AI용 (영어, 토큰 최적화)
│   ├── context/               # 규칙 SoT (JSON/YAML)
│   │   ├── agents-rules.json   # 메인 규칙 파일
│   │   └── ai-work-index.yaml  # 작업 인덱스
│   ├── workflows/             # 온디맨드 워크플로우
│   │   └── atoms/             # 재사용 가능한 빌딩 블록
│   ├── skills/                # AI 스킬
│   └── hooks/                 # 이벤트 훅
│
└── .users/                     # 사람용 (네이티브 언어, 상세)
    ├── context/               # 프로젝트 컨텍스트 (Markdown)
    ├── workflows/             # 워크플로우 가이드
    ├── skills/                # 스킬 가이드
    └── hooks/                 # 훅 문서
```

## 핵심 구성 요소

| 구성 | 역할 | 설명 |
| --- | --- | --- |
| `AGENTS.md` | AI 진입점 | 로드 순서, 언어, 금지사항 정의 |
| `.agents/context/` | AI 규칙 SoT | JSON/YAML 형식, 토큰 최적화 |
| `.agents/workflows/` | 온디맨드 워크플로우 | 필요할 때만 로딩 |
| `.users/context/` | 사람용 컨텍스트 | Markdown 형식, 상세 설명 |

## Memory Bank 대비 장점

| Memory Bank | 캐러티 이중 디렉토리 |
| --- | --- |
| 단일 폴더 구조 | AI용/사람용 분리 |
| 모든 파일 항상 로딩 | 온디맨드 로딩으로 토큰 절약 |
| 영어 중심 | 다국어 지원 (`.users/`는 네이티브 언어) |
| 비표준 구조 | AAIF 표준 기반 |

## 기존 Memory Bank 마이그레이션

| Memory Bank 파일 | 캐러티 대체 위치 |
| --- | --- |
| `projectbrief.md` | `.users/context/project-overview.md` |
| `productContext.md` | `.users/context/product-context.md` |
| `systemPatterns.md` | `.agents/workflows/atoms/` |
| `techContext.md` | `.users/context/tech-stack.md` |
| `activeContext.md` | `.agents/context/` (현재 상태) |
| `progress.md` | `.users/context/progress.md` |

> **참고**: `memory-bank/` 폴더는 더 이상 사용하지 않습니다. 기존 파일은 위 구조로 이동하세요.

## 작업 흐름

### 세션 시작
1. AI가 `AGENTS.md` 확인
2. `.agents/context/agents-rules.json` 로드
3. 작업 유형에 맞는 워크플로우만 온디맨드 로딩

### 규칙 업데이트
- **AI 규칙 변경**: `.agents/context/` 수정
- **사람용 문서 변경**: `.users/context/` 수정
- 두 디렉토리는 1:1 미러링 구조를 유지하는 것을 권장

## 참고 문서

- [고급 규칙 시스템](/ko/caret-exclusive/knowledge-parity-system)
- [AI-개발자 지식 동기화](/ko/caret-exclusive/knowledge-parity-system)
- [캐러티 규칙](/ko/features/caret-rules)
- [컨텍스트 관리 이해하기](/ko/getting-started/understanding-context-management)
