---
title: "컨텍스트 윈도우 가이드"
description: "AI 모델 컨텍스트 윈도우 이해와 관리"
---

## 컨텍스트 윈도우란?

컨텍스트 윈도우는 AI 모델이 한 번에 처리할 수 있는 텍스트의 최대량입니다. 모델의 "작업 메모리"라고 생각하면 됩니다. 대화와 코드 중 얼마만큼을 동시에 참고할 수 있는지 결정합니다.

<Note>
**핵심:** 컨텍스트 윈도우가 클수록 더 많은 코드베이스를 이해할 수 있지만, 비용과 응답 시간이 늘어날 수 있습니다.
</Note>

## 컨텍스트 윈도우 크기

### 빠른 참고

| 크기 | 토큰 | 대략 단어 수 | 사용 사례 |
|------|--------|------------------|----------|
| **Small** | 8K-32K | 6,000-24,000 | 단일 파일, 간단한 수정 |
| **Medium** | 128K | ~96,000 | 대부분의 코딩 프로젝트 |
| **Large** | 200K | ~150,000 | 복잡한 코드베이스 |
| **Extra Large** | 400K+ | ~300,000+ | 전체 애플리케이션 |
| **Massive** | 1M+ | ~750,000+ | 다중 프로젝트 분석 |

### 모델별 컨텍스트 윈도우

| 모델 | 컨텍스트 윈도우 | 유효 윈도우* | 비고 |
|-------|---------------|------------------|-------|
| **Claude Sonnet 4.5** | 1M tokens | ~500K tokens | 대규모 컨텍스트에서도 품질 우수 |
| **GPT-5** | 400K tokens | ~300K tokens | 3가지 모드에 따라 성능 변동 |
| **Gemini 2.5 Pro** | 1M+ tokens | ~600K tokens | 문서 분석에 강함 |
| **DeepSeek V3** | 128K tokens | ~100K tokens | 대부분 작업에 최적 |
| **Qwen3 Coder** | 256K tokens | ~200K tokens | 균형형 |

*유효 윈도우는 품질이 안정적으로 유지되는 구간입니다.

## 컨텍스트 효율적으로 관리하기

### 컨텍스트에 포함되는 항목

1. **현재 대화** - 모든 채팅 메시지
2. **파일 내용** - 공유했거나 Caret이 읽은 파일
3. **도구 출력** - 실행한 명령의 결과
4. **시스템 프롬프트** - Caret 지침(비중은 작음)

### 최적화 전략

#### 1. 새 기능은 새 작업으로 시작
```
/new - 새로운 작업을 시작해 컨텍스트를 초기화
```

장점:
- 최대 컨텍스트 확보
- 불필요한 히스토리 제거
- 모델 집중도 향상

#### 2. @멘션을 전략적으로 사용
전체 파일을 통째로 넣기보다:
- `@filename.ts` 필요한 파일만 포함
- 큰 파일은 검색으로 필요한 부분만
- 함수 단위로 좁혀서 참조

#### 3. 자동 압축(auto-compact) 활성화
Caret은 긴 대화를 자동 요약할 수 있습니다:
- 설정 → Features → Auto-compact
- 중요한 컨텍스트는 유지
- 토큰 사용량 감소

## 컨텍스트 한계 경고

### 한계에 도달하는 징후

| 징후 | 의미 | 해결책 |
|-------------|---------------|----------|
| **"Context window exceeded"** | 하드 한계 도달 | 새 작업 시작 또는 auto-compact 활성화 |
| **응답 속도 저하** | 컨텍스트 과부하 | 포함 파일 축소 |
| **반복 제안** | 컨텍스트 분절 | 요약 후 새 작업 시작 |
| **최근 변경 누락** | 컨텍스트 오버플로 | 체크포인트 활용 |

### 프로젝트 규모별 권장 사항

#### 소형 프로젝트 (< 50 파일)
- 대부분 모델로 충분
- 필요한 파일은 자유롭게 포함
- 특별한 최적화 불필요

#### 중형 프로젝트 (50-500 파일)
- 128K+ 모델 권장
- 작업 중인 파일만 포함
- 기능 단위로 컨텍스트 정리

#### 대형 프로젝트 (500+ 파일)
- 200K+ 모델 권장
- 모듈 단위로 집중
- 파일 전체 대신 검색 활용
- 작업을 여러 단계로 쪼개기

## 고급 컨텍스트 관리

### Plan/Act 모드 최적화

Plan/Act 모드를 활용해 컨텍스트를 효율적으로 분배할 수 있습니다:
- **Plan 모드**: 저렴한 모델로 토론
- **Act 모드**: 고급 모델로 구현

예시:
```
Plan Mode: DeepSeek V3 (128K) - 저비용 계획
Act Mode: Claude Sonnet 4.5 (1M) - 최대 컨텍스트 구현
```

### 컨텍스트 프루닝 전략

1. **Temporal Pruning**: 오래된 대화 제거
2. **Semantic Pruning**: 관련 없는 코드 제거
3. **Hierarchical Pruning**: 큰 구조는 유지하고 디테일 축소

### 토큰 계산 팁

#### 대략적 계산
- **1 토큰 ≈ 0.75 단어**
- **1 토큰 ≈ 4 글자**
- **코드 100줄 ≈ 500-1000 토큰**

#### 파일 크기 기준
| 파일 유형 | KB당 토큰 |
|-----------|---------------|
| **코드** | ~250-400 |
| **JSON** | ~300-500 |
| **Markdown** | ~200-300 |
| **Plain text** | ~200-250 |

## 컨텍스트 윈도우 FAQ

### Q: 대화가 길어지면 왜 품질이 떨어지나요?
**A:** 모델은 과도한 컨텍스트에서 집중력을 잃을 수 있습니다. 보통 유효 윈도우는 최대치의 50-70% 구간입니다.

### Q: 가장 큰 컨텍스트 윈도우를 쓰는 게 항상 좋은가요?
**A:** 아닙니다. 큰 컨텍스트는 비용 증가 및 응답 품질 저하 가능성이 있습니다. 작업 크기에 맞게 선택하세요.

### Q: 컨텍스트 사용량은 어떻게 확인하나요?
**A:** Caret UI에서 토큰 사용량을 표시합니다. 컨텍스트 미터가 한계에 가까워지는지 확인하세요.

### Q: 한계를 넘으면 어떻게 되나요?
**A:** Caret은 다음 중 하나로 대응합니다:
- 자동으로 대화를 압축(auto-compact)
- 오류 메시지와 함께 새 작업 권장
- 오래된 메시지 일부 제거(경고 포함)

## 사용 사례별 추천

| 사용 사례 | 추천 컨텍스트 | 모델 추천 |
|----------|-------------------|------------------|
| **간단한 수정** | 32K-128K | DeepSeek V3 |
| **기능 개발** | 128K-200K | Qwen3 Coder |
| **대규모 리팩터링** | 400K+ | Claude Sonnet 4.5 |
| **코드 리뷰** | 200K-400K | GPT-5 |
| **문서 작성** | 128K | 저가형 모델 |
