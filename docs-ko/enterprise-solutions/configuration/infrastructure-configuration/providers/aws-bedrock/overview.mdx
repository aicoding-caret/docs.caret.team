---
title: "AWS Bedrock 구성"
sidebarTitle: "AWS Bedrock"
description: "Caret 배포에서 AWS Bedrock을 구성합니다"
---

<Info>
**구성 경로: Self-Hosted**

이 문서는 Self-Hosted 배포용 Bedrock 구성 가이드입니다. 웹 기반 설정은 [AWS Bedrock SaaS 구성](/enterprise-solutions/configuration/remote-configuration/aws-bedrock/admin-configuration)을 참고하세요.
</Info>

Caret를 AWS Bedrock에 연결해 Claude 등 기반 모델을 엔터프라이즈 방식으로 사용합니다.

## 구성 형식

원격 구성 JSON의 `providerSettings.AwsBedrock`에 Bedrock 설정을 추가합니다.

```json
{
  "providerSettings": {
    "AwsBedrock": {
      "models": [
        {
          "id": "anthropic.claude-3-5-sonnet-20241022-v2:0",
          "name": "Claude 3.5 Sonnet"
        }
      ],
      "awsRegion": "us-east-1"
    }
  }
}
```

## 구성 필드

| 필드 | 타입 | 설명 | 필수 |
|-------|------|-------------|----------|
| `models` | Array | 모델 구성 목록 | Yes |
| `awsRegion` | String | AWS 리전(e.g., `us-east-1`) | Yes |
| `awsUseCrossRegionInference` | Boolean | 크로스 리전 추론 활성화 | No |
| `awsUseGlobalInference` | Boolean | 글로벌 추론 라우팅 활성화 | No |
| `awsBedrockUsePromptCache` | Boolean | 프롬프트 캐싱 활성화 | No |
| `awsBedrockEndpoint` | String | 커스텀 Bedrock 엔드포인트 | No |
| `customModels` | Array | 커스텀 모델 구성 | No |

### 모델 구성

`models` 배열의 각 항목은 다음을 포함합니다.

```json
{
  "id": "anthropic.claude-3-5-sonnet-20241022-v2:0",
  "name": "Claude 3.5 Sonnet",
  "info": {
    "maxTokens": 8192,
    "contextWindow": 200000,
    "supportsImages": true,
    "supportsPromptCache": true
  }
}
```

## 주요 모델 ID

| Model ID | 설명 | 컨텍스트 창 |
|----------|-------------|----------------|
| `anthropic.claude-3-5-sonnet-20241022-v2:0` | 최신 Claude Sonnet | 200K tokens |
| `anthropic.claude-3-5-haiku-20241022-v1:0` | 최신 Claude Haiku | 200K tokens |
| `anthropic.claude-3-opus-20240229-v1:0` | Claude Opus | 200K tokens |

<Note>
모델 가용성은 리전별로 다릅니다. 리전별 모델 가용성은 [AWS Bedrock 문서](https://docs.aws.amazon.com/bedrock/latest/userguide/models-regions.html)를 참고하세요.
</Note>

## 예시 구성

### 기본 구성

```json
{
  "providerSettings": {
    "AwsBedrock": {
      "models": [
        {
          "id": "anthropic.claude-3-5-sonnet-20241022-v2:0",
          "name": "Claude 3.5 Sonnet"
        }
      ],
      "awsRegion": "us-east-1"
    }
  }
}
```

### 프롬프트 캐싱 사용

```json
{
  "providerSettings": {
    "AwsBedrock": {
      "models": [
        {
          "id": "anthropic.claude-3-5-sonnet-20241022-v2:0",
          "name": "Claude 3.5 Sonnet"
        }
      ],
      "awsRegion": "us-east-1",
      "awsBedrockUsePromptCache": true
    }
  }
}
```

### 다중 모델 구성

```json
{
  "providerSettings": {
    "AwsBedrock": {
      "models": [
        {
          "id": "anthropic.claude-3-5-sonnet-20241022-v2:0",
          "name": "Claude 3.5 Sonnet"
        },
        {
          "id": "anthropic.claude-3-5-haiku-20241022-v1:0",
          "name": "Claude 3.5 Haiku"
        }
      ],
      "awsRegion": "us-east-1"
    }
  }
}
```

## 사전 요구 사항

Bedrock을 구성하기 전에 다음이 필요합니다.

1. **AWS 계정**(Bedrock 접근 활성화)
2. **IAM 권한**(`bedrock:InvokeModel`, `bedrock:InvokeModelWithResponseStream`)
3. **모델 접근 허용**(Bedrock 콘솔에서 활성화)
4. **AWS 자격 증명**(IAM 역할/Access Key/AWS 프로필)

<Tip>
AWS 계정 및 IAM 구성은 [AWS Bedrock 시작 가이드](https://docs.aws.amazon.com/bedrock/latest/userguide/getting-started.html)를 참고하세요.
</Tip>

## 문제 해결

**"Access Denied" 오류**

AWS 자격 증명에 Bedrock 권한이 있는지 확인하세요. [AWS IAM 문서](https://docs.aws.amazon.com/bedrock/latest/userguide/security-iam.html)를 참고하세요.

**"Model Not Found" 오류**

Bedrock 콘솔에서 모델 접근이 허용되어 있고, 설정한 리전에서 해당 모델이 지원되는지 확인하세요.

**높은 지연 시간**

사용자와 가까운 리전을 선택하거나 크로스 리전 추론을 고려하세요.

## 관련 리소스

<CardGroup cols={2}>
  <Card title="AWS Bedrock 문서" icon="book" href="https://docs.aws.amazon.com/bedrock/">
    AWS Bedrock 전체 문서
  </Card>
  
  <Card title="모델 접근" icon="key" href="https://docs.aws.amazon.com/bedrock/latest/userguide/model-access.html">
    모델 접근 활성화 방법
  </Card>
  
  <Card title="IAM 권한" icon="shield" href="https://docs.aws.amazon.com/bedrock/latest/userguide/security-iam.html">
    필수 IAM 권한
  </Card>
  
  <Card title="가격" icon="dollar-sign" href="https://aws.amazon.com/bedrock/pricing/">
    AWS Bedrock 가격 정보
  </Card>
</CardGroup>
