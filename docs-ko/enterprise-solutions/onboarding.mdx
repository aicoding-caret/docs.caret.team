---
title: "온보딩"
description: "Caret Enterprise에서 SSO 프로비저닝과 사용자 관리를 구성하는 방법을 안내합니다"
---

## 개요

Caret Enterprise는 WorkOS를 통해 기존 IdP(Okta, Azure AD, Google Workspace, SAML/OIDC 제공자)와 통합됩니다. 이 가이드에서는 IdP 연결, JIT(Just-in-time) 프로비저닝 활성화, 역할 매핑을 통해 **수동 초대 없이** 사용자 수명 주기를 자동화하는 방법을 설명합니다.

## 사전 준비

- [Caret Enterprise 라이선스](https://caret.bot/enterprise)
- IdP 설정 접근 권한(Okta, Azure AD, Google Workspace 등)
- 조직의 SSO 요구 사항 이해

## 구성 단계

### 1단계: Caret Enterprise 라이선스 온보딩

온보딩 시 IdP 관리자는 WorkOS에 조직을 등록할 수 있는 링크가 포함된 안내 메일을 받습니다.

### 2단계: IdP 연결

WorkOS에 IdP를 연결합니다.

1. WorkOS 대시보드에서 **AuthKit → Connections** 이동
2. **Add Connection** 클릭
3. IdP 선택(Okta, Azure AD, Google Workspace, Generic SAML/OIDC)
4. 제공되는 안내에 따라 설정 진행

각 IdP는 필요한 필드와 설정이 다릅니다. WorkOS 대시보드의 안내를 반드시 따르세요.
자세한 IdP 연결 방법은 [WorkOS SSO 문서](https://workos.com/docs/authkit/sso)를 참고하세요.

### 3단계: 사용자 프로비저닝 구성

Caret Enterprise는 **JIT 프로비저닝**을 기본으로 사용합니다.

- **조직 자동 생성**
- **첫 로그인 시 자동 사용자 생성**
- **역할 자동 동기화**(Admin/Owner → Admin, Member → Member)
- **수동 초대/좌석 관리 불필요**

추가 설정 없이도 SSO 로그인 시 자동으로 사용자 계정이 생성됩니다.

### 4단계: 사용자 속성 매핑

사용자 역할은 IdP에서 자동 매핑됩니다.

- IdP **Admin** → Caret **Admin**
- IdP **Member** → Caret **Member**

<Info>
각 역할의 권한은 [역할 및 권한](/enterprise-solutions/team-management/managing-members) 문서를 확인하세요.
</Info>

추가 속성을 설정하려면 Caret Admin 콘솔에서 다음을 구성합니다.

1. **Settings → Authentication → User Attributes** 이동
2. 이메일/이름 등 IdP 속성 매핑

사용 가능한 속성은 [WorkOS User Object 문서](https://workos.com/docs/authkit/user-management)를 참고하세요.

### 5단계: SSO 연결 테스트

사용자 로그인을 허용하기 전에 SSO 흐름을 테스트하세요.

**테스트 방법:**

1. WorkOS 대시보드(또는 Caret Admin 콘솔)에서 **Test SSO Connection** 선택
2. IdP 로그인 페이지로 이동
3. 테스트 계정으로 로그인
4. 정상 인증 후 Caret로 리다이렉트
5. 사용자 정보(이름, 이메일, 역할) 표시 여부 확인

**기대 결과:** 테스트 사용자가 인증되고 계정 정보가 표시되며 역할이 IdP 설정과 일치해야 합니다.

**실패 시:** 리다이렉트 URI, SAML 인증서, 속성 매핑을 재확인하세요. 필요 시 [WorkOS SSO 문서](https://workos.com/docs/authkit/sso)를 참고하세요.

### 사용자 접근 흐름

SSO 설정이 끝나면 IdP 사용자들이 **수동 초대 없이** Caret에 접근합니다.

**첫 로그인 흐름:**

1. 사용자가 Caret에서 **SSO로 로그인** 클릭
2. 조직 IdP에서 인증
3. Caret가 조직 계정 자동 생성
4. IdP 역할에 따라 권한 부여
5. Caret로 리다이렉트 후 사용 시작

**자동 처리되는 항목:**
- 조직에 맞는 계정 생성
- 역할/권한 자동 부여
- 기본 프로필 정보(이름, 이메일) 채움

### 접근 관리

접근 관리/회수는 현재 IdP에서 처리됩니다.

- 사용자 추가 → 첫 로그인 시 자동 접근 부여
- 역할 변경 → 다음 로그인 시 반영
- 사용자 제거 → 다음 로그인에서 자동 접근 차단

<Info>
역할 변경은 사용자의 다음 로그인 시 동기화됩니다.
</Info>

### IdP 변경

다른 IdP로 변경하려면 지원팀에 문의해 주세요. 변경 절차를 안내드립니다.

---

## 검증 체크리스트

구성이 올바르게 완료되었는지 확인합니다.

1. **테스트 로그인**: 테스트 사용자가 SSO로 로그인되는지 확인
2. **자동 계정 생성**: 사용자 계정이 자동 생성되는지 확인
3. **속성 검증**: 이름/이메일/조직 정보가 올바른지 확인
4. **역할 변경 테스트**: IdP에서 역할을 바꾸고 다음 로그인에서 반영되는지 확인
5. **사용자 제거 테스트**: IdP에서 제거 후 접근이 차단되는지 확인
6. **감사 로그 확인**: WorkOS 감사 로그에 인증 이벤트가 기록되는지 확인

---
