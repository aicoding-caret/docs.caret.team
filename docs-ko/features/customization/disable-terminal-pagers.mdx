---
title: "Caret 세션에서 터미널 페이저 비활성화"
description: "Caret이 명령을 실행할 때 CLINE_ACTIVE 환경 변수를 감지해 less 같은 페이저를 비활성화합니다."
---

Git 같은 CLI는 `less`와 같은 페이저를 사용해 스크롤 가능한 출력을 제공합니다. 하지만 Caret이 터미널에서 명령을 실행할 때는 이 인터랙션이 진행을 막을 수 있습니다. Caret이 실행한 터미널에서는 페이저를 꺼두면 출력이 바로 흘러가며 막힘 없이 진행됩니다.

## 동작 원리

Caret은 명령 실행용 터미널을 열 때 다음 환경 변수를 설정합니다:

- `CLINE_ACTIVE` — Caret이 실행한 셸이면 값이 설정됨

셸 시작 파일에서 이 변수를 감지해 Caret 세션에만 페이저를 끄도록 설정할 수 있습니다. 이렇게 하면 일반 터미널은 기존 동작을 유지합니다.

## 빠른 설정 (Zsh/Bash)

아래 내용을 `~/.zshrc`, `~/.bashrc`, 또는 `~/.bash_profile`에 추가하세요:

```bash
# Caret이 실행한 터미널에서는 페이저 비활성화
if [[ -n "$CLINE_ACTIVE" ]]; then
  export PAGER=cat
  export GIT_PAGER=cat
  export SYSTEMD_PAGER=cat
  export LESS="-FRX"
fi
```

<Note>
- `PAGER=cat`은 일반 페이저 지원 도구가 stdout으로 직접 출력되도록 합니다
- `GIT_PAGER=cat`은 Git이 `less`를 호출하지 못하게 합니다
- `SYSTEMD_PAGER=cat`은 systemd 도구의 페이징을 끕니다(해당 도구가 있을 때)
- `LESS="-FRX"`는 여전히 `less`가 호출될 경우에도 스트리밍처럼 동작하게 합니다
</Note>

`CLINE_ACTIVE`가 설정된 경우에만 적용되므로, 일반 터미널의 인터랙션은 그대로 유지됩니다.

## 확인 방법

- Caret에서 터미널 명령을 실행한 뒤:
  - `echo "$CLINE_ACTIVE"`가 비어 있지 않은 값인지 확인
  - `git log` 등 긴 출력이 멈추지 않고 흐르는지 확인
- 적용이 안 된다면:
  - 올바른 셸 시작 파일을 수정했는지 확인
  - VS Code/Cursor를 재시작해 통합 터미널이 셸 설정을 다시 읽게 함
  - 터미널 프로필이 `~/.zshrc` 또는 `~/.bashrc`를 실제로 로드하는지 확인

## 선택적 설정

- 환경 변수에 의존하지 않고 명령 옵션으로 처리할 수도 있습니다:

```bash
# 단발성 실행 (alias 없이)
git --no-pager log -n 50 --decorate --oneline
systemctl --no-pager status nginx
journalctl --no-pager -u nginx -n 200
less -FRX README.md
```

- Caret 세션에서만 alias를 적용하는 방식도 가능합니다:

```bash
if [[ -n "$CLINE_ACTIVE" ]]; then
  # less를 비대화형으로
  alias less='less -FRX'
  # 자주 쓰는 도구는 옵션으로 페이저 비활성화
  alias git='command git --no-pager'
  alias systemctl='command systemctl --no-pager'
  alias journalctl='command journalctl --no-pager'
fi
```

- 환경 변수 방식은 하위 프로세스에도 전파되며, alias는 현재 셸에만 적용됩니다. 워크플로에 맞는 방법을 선택하세요.
