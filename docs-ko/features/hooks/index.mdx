---
title: "Hooks 개요"
sidebarTitle: "개요"
description: "Caret의 워크플로에 커스텀 로직을 삽입해 작업 검증, 도구 사용 모니터링, AI 결정 유도"
---

Hooks는 Caret의 워크플로 중요한 지점에 **커스텀 로직을 삽입**할 수 있게 해줍니다. 실행 전 검증, 도구 사용 모니터링, AI 의사결정 유도에 유용합니다.

Hooks는 특정 이벤트가 발생할 때 자동으로 실행됩니다. 각 동작에 대한 상세 정보를 받으며, 문제가 될 수 있는 작업을 사전에 차단하거나 다음 판단에 도움이 되는 컨텍스트를 주입할 수 있습니다.

이 기능을 조합하면 다음이 가능합니다:

- 문제가 될 작업을 실행 전에 차단(예: TS 프로젝트에서 `.js` 생성 금지)
- 프로젝트 지식을 축적하여 반복 작업에 활용
- 성능 모니터링 및 이슈 조기 감지
- 분석/감사/컴플라이언스 로깅
- 외부 도구/서비스를 적절한 시점에 트리거

## 시작하기

<Frame>
	<img src="https://storage.googleapis.com/cline_public_images/hooks.gif" alt="Hooks in action" />
</Frame>

<Note>
Hooks는 Windows, macOS, Linux에서 모두 동작합니다. 이 문서의 bash 예시는 모든 플랫폼의 표준 셸(Windows의 Git Bash/WSL 포함)에서 실행 가능합니다.
</Note>

Caret에는 Hooks 관리 UI가 내장되어 있어 쉽게 설정할 수 있습니다. 시작 방법은 다음과 같습니다.

<Steps>
<Step title="Hooks 인터페이스 열기">
Hooks 관리 인터페이스로 이동합니다:

<Frame>
  <img src="/assets/hooks/hooks-interface-with-dropdown.png" alt="Hooks management interface showing Global Hooks and project-specific hooks with dropdown menu" />
</Frame>

1. Caret을 열고 설정에서 Hooks 활성화
2. 상단 탭에서 **Hooks** 확인 (Rules, Workflows 옆)
3. **Hooks** 클릭해 관리 패널 열기

패널에는 사용 가능한 Hook 유형과 현재 설정된 Hook이 워크스페이스별로 표시됩니다.
</Step>

<Step title="Hook 위치 이해">
Hooks는 위치에 따라 자동으로 분류됩니다:

**전역 Hooks** - 모든 프로젝트에 적용:
- `~/Documents/Caret/Hooks/`에 저장
- 개인 코딩 규칙, 범용 규칙에 적합

**프로젝트 Hooks** - 현재 프로젝트에만 적용:
- 저장소 루트의 `.agents/hooks/`에 저장
- 프로젝트별 검증/팀 워크플로에 적합
- 버전 관리에 포함해 팀과 공유 가능

멀티 루트 워크스페이스에서는 열린 각 저장소의 Hooks를 모두 실행합니다.
</Step>

<Step title="첫 Hook 만들기">
UI에서 Hook을 생성합니다:

<Frame>
  <img src="/assets/hooks/hooks-empty-state.png" alt="Empty hooks interface showing New hook... dropdowns for both Global Hooks and project-specific hooks before any hooks are created" />
</Frame>

1. **위치 선택**: 전역 Hooks 또는 프로젝트 Hooks
2. **Hook 타입 선택**: 선택한 위치의 **"New hook..."** 드롭다운 클릭
3. **Hook 타입 고르기**: 해당 위치에 아직 없는 Hook 타입만 표시됨

<Frame>
  <img src="/assets/hooks/new-hook-dropdown.png" alt="Creating a new hook with the dropdown menu showing UserPromptSubmit selected with description" />
</Frame>

4. **코드 검토/수정**: 연필 아이콘으로 Hook 코드 확인 및 편집
5. **활성화**: 동작을 이해한 뒤 토글을 켜서 활성화

<Frame>
  <img src="/assets/hooks/hook-controls.png" alt="Hook management controls showing toggle, edit, and delete buttons for each hook" />
</Frame>

<Warning>
Hook은 워크플로에서 자동 실행됩니다. 활성화하기 전에 반드시 코드를 검토하세요.
</Warning>
</Step>

<Step title="Hook 테스트">
Hook은 여러 번 트리거해보며 확인해야 합니다. Hook 유형마다 트리거 이벤트가 다릅니다:

- **TaskStart**: 새 작업 시작 시
- **PreToolUse**: 도구 실행 직전
- **PostToolUse**: 도구 실행 직후
- **UserPromptSubmit**: 메시지를 전송할 때

각 Hook의 트리거 조건과 테스트 방법은 [Hook 레퍼런스](/ko/features/hooks/hook-reference) 문서를 참고하세요.
</Step>
</Steps>

<Tip>
처음에는 간단히 로그를 남기는 Hook부터 시작하세요. 데이터 구조와 타이밍을 이해하는 데 도움이 됩니다.
</Tip>

## 무엇을 만들 수 있나요?

Hooks를 활용하면 다음과 같은 자동화를 만들 수 있습니다:

<CardGroup cols={2}>
  <Card title="지능형 코드 리뷰" icon="code-branch">
    파일 저장 전에 린터/검증기를 실행하고, 실패 시 차단하며, 품질 지표를 추적합니다.
  </Card>
  
  <Card title="보안 정책 강제" icon="shield-halved">
    정책 위반 작업을 차단하고 민감 정보 노출을 감지하며, 감사 로그를 남깁니다.
  </Card>
  
  <Card title="개발 분석" icon="chart-line">
    작업 소요 시간과 패턴을 분석해 생산성 리포트를 만들 수 있습니다.
  </Card>
  
  <Card title="통합 허브" icon="plug">
    특정 키워드에 맞춰 이슈 트래커를 업데이트하거나 외부 API를 호출합니다.
  </Card>
</CardGroup>

Hooks는 Caret의 워크플로와 개발 생태계를 연결하는 접착제 역할을 합니다.

## 문서 살펴보기

<CardGroup cols={2}>
  <Card title="Hook 레퍼런스" icon="book" href="/ko/features/hooks/hook-reference">
    모든 Hook 타입, JSON 스키마, 필드 설명을 포함한 완전한 레퍼런스.
  </Card>
  
  <Card title="샘플" icon="code" href="/ko/features/hooks/samples">
    실전에서 쓰는 패턴과 완성형 스크립트 예시.
  </Card>
</CardGroup>

## CLI 지원

Hooks는 [Caret CLI](/ko/caret-cli/overview)에서도 사용할 수 있습니다. CLI 실행 시 Hooks를 켜거나 끌 수 있습니다:

```bash
# 작업에서 Hooks 활성화
caret "이 저장소가 하는 일을 요약해줘" -s hooks_enabled=true

# 전역 설정으로 Hooks 활성화
caret config set hooks-enabled=true
caret config get hooks-enabled
```

자동화 워크플로, CI/CD, 헤드리스 실행 환경에 Hooks를 통합할 수 있습니다.

<Note>
CLI Hooks는 macOS와 Linux에서만 지원됩니다. Windows 지원은 아직 제공되지 않습니다.
</Note>

## 관련 기능

Hooks는 다음 기능과 함께 쓰면 시너지가 큽니다:

- [Caret Rules](/ko/features/caret-rules) - Hooks가 규칙을 강제하도록 설계
- [체크포인트](/ko/features/checkpoints) - 문제 발생 시 롤백
- [자동 승인](/ko/features/auto-approve) - 자동화 작업에 안전망 제공
- [Caret CLI](/ko/caret-cli/overview) - 터미널/자동화 환경에서 Hooks 사용
