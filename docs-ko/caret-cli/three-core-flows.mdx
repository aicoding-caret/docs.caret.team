---
title: "3가지 핵심 흐름"
description: "Caret CLI를 사용하는 세 가지 방법: 대화형 모드, 헤드리스 자동화, 멀티 인스턴스 병렬화"
---

먼저 이해해야 할 두 가지 개념:

**작업(Task)** - Caret이 수행해야 하는 단일 작업입니다("utils.js에 테스트 추가" 등). 사용자가 원하는 내용을 설명하면 Caret이 계획을 세우고 실행합니다. 작업은 인스턴스에서 실행됩니다.

**인스턴스(Instance)** - 독립적인 Caret 작업 공간입니다. 각 인스턴스는 한 번에 하나의 작업만 실행합니다. 여러 인스턴스를 만들어 프로젝트의 다른 영역을 병렬로 처리할 수 있습니다.

## 1. 대화형 모드: 계획 후 실행

Caret가 어떻게 동작하는지 확인하려면 여기서 시작하세요. 대화형 모드는 실행 전에 계획을 검토할 수 있는 채팅 세션을 엽니다.

```bash
caret
```

Caret는 현재 디렉터리에서 대화형 세션을 엽니다. 작업을 메시지로 입력하면 Plan 모드로 들어가 단계별 전략을 제안합니다.

채팅에서 계획을 검토하거나 수정한 뒤, 준비되면 실행으로 전환합니다:

```bash
/act
```

Caret는 승인된 단계(파일 읽기, 코드 작성, 명령 실행 등)를 수행합니다. 전체 과정에서 사용자가 제어권을 유지합니다.

## 2. 헤드리스 단발 실행: 대화 없이 작업 완료

대화 없이 바로 실행되는 원라이너 자동화에 적합합니다.

```bash
caret instance new --default
caret task new -y "Generate unit tests for all Go files"
```

`-y`(YOLO) 플래그를 사용하면 Caret가 대화 없이 계획과 실행을 자동으로 수행합니다. CI, 크론 작업, 스크립트에 적합합니다.

예시:

```bash
# 기능 전체 생성
caret task new -y "Create a REST API for user authentication"

# 문서 생성
caret task new -y "Add JSDoc comments to all functions in src/"

# 리팩터링
caret task new -y "Convert all var declarations to const/let"
```

작업 상태를 확인하려면:

```bash
# 작업 상태 보기
caret task view

# 실시간으로 작업 진행 상황 보기
caret task view --follow
```

Ctrl+C를 누르면 보기 모드를 종료합니다.

<Note>
YOLO 모드는 작업 디렉터리나 깨끗한 Git 브랜치에서 신중히 사용하세요. 속도를 얻는 대신 검토가 줄어들기 때문에 필요 시 되돌릴 준비가 되어 있어야 합니다.
</Note>

## 3. 멀티 인스턴스: 병렬 에이전트 실행

여러 인스턴스로 같은 프로젝트의 작업을 병렬 처리할 수 있습니다. 프론트엔드/백엔드/인프라 작업을 동시에 진행할 때 유용합니다.

첫 번째 인스턴스를 생성합니다:

```bash
caret instance new
```

이 명령은 인스턴스 주소를 반환하며, 이후 작업에서 사용합니다. 첫 인스턴스에 작업을 붙입니다:

```bash
# 첫 번째 인스턴스에서 프론트엔드 작업
caret task new -y "Build React components"
```

두 번째 인스턴스를 만들면서 기본 인스턴스로 설정합니다:

```bash
caret instance new --default
```

이제 주소를 지정하지 않아도 기본 인스턴스를 사용합니다:

```bash
# 새 기본 인스턴스에서 백엔드 작업
caret task new -y "Implement API endpoints"
```

실행 중인 인스턴스를 나열하려면:

```bash
caret instances list
```

모든 인스턴스를 종료하려면:

```bash
caret instances kill -a
```

<Tip>
`caret instance new`로 반환되는 인스턴스 주소를 기록해 두세요. 여러 에이전트를 스크립팅할 때 이 ID를 저장하고 적절한 인스턴스로 작업을 보낼 수 있습니다.
</Tip>

## 어떤 흐름을 선택할까?

- **대화형 모드**: 새로운 문제를 탐색하거나 Caret 동작을 익힐 때, 또는 실행 전 계획을 검토하고 싶을 때
- **헤드리스 단발 실행**: 자동화, CI/CD, 감독 없이 실행해도 되는 작업에 적합
- **멀티 인스턴스**: 병렬 작업이 필요하거나 프로젝트 영역별로 문맥을 분리해야 할 때

<Tip>
자세한 명령/플래그는 [CLI 레퍼런스](/ko/caret-cli/cli-reference)에서 확인하세요.
</Tip>

## 다음 단계

<Columns cols={2}>
  <Card title="CLI 레퍼런스" icon="terminal" href="/ko/caret-cli/cli-reference">
    구성, 인스턴스 관리, 작업 명령을 포함한 전체 문서를 제공합니다.
  </Card>
  
  <Card title="Plan & Act" icon="brain" href="/ko/features/plan-and-act">
    Plan/Act 모드의 사용 시점과 전환 방법을 자세히 안내합니다.
  </Card>
  
  <Card title="YOLO 모드" icon="zap" href="/ko/features/yolo-mode">
    YOLO 모드의 동작 방식과 자동화/수동 승인 기준을 설명합니다.
  </Card>
  
  <Card title="작업 관리" icon="clipboard-check" href="/ko/getting-started/task-management">
    Caret의 작업 저장/복원과 체크포인트 관리 방식을 소개합니다.
  </Card>
</Columns>
