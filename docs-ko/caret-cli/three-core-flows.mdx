---
title: "세 가지 핵심 흐름"
description: "Caret CLI를 사용하는 세 가지 방법: 대화형 모드, 헤드리스 자동화, 멀티 인스턴스 병렬 실행"
---

먼저 두 가지 개념을 이해하세요:

**작업(Task)** - Caret이 수행할 단일 작업입니다(예: "utils.js에 테스트 추가"). 원하는 내용을 설명하면 Caret이 계획을 세우고 실행합니다. 작업은 인스턴스 위에서 실행됩니다.

**인스턴스(Instance)** - 독립적인 Caret 작업 공간입니다. 각 인스턴스는 한 번에 하나의 작업을 수행합니다. 여러 인스턴스를 만들어 프로젝트의 서로 다른 영역을 병렬로 처리할 수 있습니다.

## 1. 대화형 모드: 먼저 계획, затем 실행

Caret이 어떻게 동작하는지 확인하기에 가장 좋은 시작점입니다. 대화형 모드는 실행 전에 계획을 검토할 수 있는 채팅 세션을 엽니다.

```bash
caret
```

현재 디렉터리에서 대화형 세션이 열립니다. 작업을 메시지로 입력하면 Caret이 계획 모드로 전환되어 단계별 전략을 제안합니다.

채팅에서 계획을 검토하거나 수정한 다음, 실행을 승인하세요:

```bash
/act
```

Caret은 승인된 단계에 따라 파일을 읽고, 코드를 작성하고, 명령을 실행합니다. 과정 전반에서 사용자가 नियंत्रण을 유지합니다.

## 2. 헤드리스 단발 실행: 채팅 없이 작업 완료

자동화 시나리오에서 한 줄로 작업을 끝내고 싶을 때 사용합니다.

```bash
caret instance new --default
caret task new -y "Generate unit tests for all Go files"
```

`-y`(YOLO) 플래그를 사용하면 Caret이 대화 없이 계획과 실행을 автоном식으로 처리합니다. CI, cron, 스크립트에 적합합니다.

예시:

```bash
# 전체 기능 생성
caret task new -y "Create a REST API for user authentication"

# 문서 생성
caret task new -y "Add JSDoc comments to all functions in src/"

# 코드 리팩터링
caret task new -y "Convert all var declarations to const/let"
```

작업 상태는 다음으로 확인합니다:

```bash
# 작업 상태 확인
caret task view

# 실시간 진행 상황 추적
caret task view --follow
```

Ctrl+C로 뷰를 종료할 수 있습니다.

<Note>
YOLO 모드는 통제 대신 속도를 선택합니다. 안전한 디렉터리나 깨끗한 Git 브랜치에서 실행하고, 필요 시 되돌릴 준비를 해두세요.
</Note>

## 3. 멀티 인스턴스: 병렬 에이전트 실행

여러 인스턴스를 사용하면 같은 프로젝트에서도 컨텍스트 충돌 없이 병렬 작업을 수행할 수 있습니다. 프론트엔드/백엔드/인프라 작업을 동시에 진행해 보세요.

첫 인스턴스를 생성합니다:

```bash
caret instance new
```

인스턴스 주소가 반환되며, 이 주소로 작업을 지정할 수 있습니다:

```bash
# 첫 번째 인스턴스에서 프론트엔드 작업
caret task new -y "Build React components"
```

두 번째 인스턴스를 만들고 기본 인스턴스로 설정합니다:

```bash
caret instance new --default
```

이제 주소를 명시하지 않아도 기본 인스턴스를 자동으로 사용합니다:

```bash
# 새 기본 인스턴스에서 백엔드 작업
caret task new -y "Implement API endpoints"
```

실행 중인 인스턴스 목록을 확인합니다:

```bash
caret instances list
```

작업이 끝나면 모든 인스턴스를 종료합니다:

```bash
caret instances kill -a
```

<Tip>
`caret instance new`가 반환하는 주소를 기록해 두세요. 여러 에이전트를 스크립트로 관리할 때 인스턴스별로 작업을 배정할 수 있습니다.
</Tip>

## 로컬 프로바이더 컨텍스트 윈도우 설정

Ollama와 LM Studio는 CLI에서 컨텍스트 윈도우 크기를 설정할 수 있습니다:

```bash
# Ollama
caret config s ollama-api-options-ctx-num=32768

# LM Studio
caret config s lm-studio-max-tokens=32768
```

그 외 프로바이더(Anthropic, OpenRouter 등)는 모델 메타데이터에 정의된 컨텍스트 윈도우를 사용하며, 사용자가 직접 설정할 수 없습니다. Caret은 각 모델의 내장 제한을 자동으로 적용합니다.

## 어떤 흐름을 선택할까요?

- **대화형 모드**: 새로운 문제를 탐색하거나, Caret 동작 방식을 익히거나, 실행 전에 계획을 검토하고 싶을 때
- **헤드리스 단발 실행**: 자동화, CI/CD, 또는 감독 없이 실행해도 되는 작업에 적합
- **멀티 인스턴스**: 병렬 작업이 필요하거나 서로 다른 컨텍스트를 유지해야 할 때

<Tip>
명령과 플래그의 세부 내용은 [CLI 레퍼런스](/caret-cli/cli-reference)에서 확인할 수 있습니다.
</Tip>

## 다음 단계

<Columns cols={2}>
  <Card title="CLI 레퍼런스" icon="terminal" href="/caret-cli/cli-reference">
    설정, 인스턴스 관리, 작업 명령 등 전체 문서를 확인하세요.
  </Card>
  
  <Card title="Plan and Act" icon="brain" href="/features/plan-and-act">
    계획 모드와 실행 모드를 언제 어떻게 사용하는지 자세히 알아보세요.
  </Card>
  
  <Card title="YOLO 모드" icon="zap" href="/features/yolo-mode">
    자동화 수준을 높이는 YOLO 모드의 작동 방식과 주의점을 이해하세요.
  </Card>
  
  <Card title="작업 관리" icon="clipboard-check" href="/features/tasks/task-management">
    Caret이 작업을 추적하고 체크포인트로 상태를 저장·복원하는 방식에 대해 알아보세요.
  </Card>
</Columns>
